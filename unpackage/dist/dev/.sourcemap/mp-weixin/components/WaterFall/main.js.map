{"version":3,"sources":["webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue?a3f7","webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue?418d","webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue?37ce","webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue?8bac","webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue","webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue?8509","webpack:////Users/howie/markable/markable-hybrid/components/WaterFall/main.vue?4f8c"],"names":["props","data","newList","index","mark","boxHeight","top","left","loadingTop","like1","like2","mounted","change","console","log","list","$nextTick","setTimeout","waterFall","watch","newVal","oldVal","length","methods","toPath","row","$global","navigateTo","uri","api","handleLike","idx","clickLike","likes","$forceUpdate","query","uni","createSelectorQuery","in","selectAll","boundingClientRect","res","len","height","i","$set","push","minHeight","exec"],"mappings":"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","file":"components/WaterFall/main.js","sourcesContent":["import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=21285232&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=21285232&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21285232\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('21285232', component.options)\n    } else {\n      api.reload('21285232', component.options)\n    }\n    module.hot.accept(\"./main.vue?vue&type=template&id=21285232&scoped=true&\", function () {\n      api.rerender('21285232', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/howie/markable/markable-hybrid/components/WaterFall/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=21285232&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\texport default {\n    props: ['list', 'change'],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tnewList: [],\n        index: 0,\n        mark: 0,\n\t\t\t\tboxHeight: [],\n\t\t\t\ttop: [], \n\t\t\t\tleft: [],\n        loadingTop: 0,\n        like1: '/static/images/like1.png',\n        like2: '/static/images/like2.png'        \n\t\t\t}\n\t\t},\n    mounted () {\n      // 固定数组\n      if (this.change) {\n        console.log('相关穿搭waterfall')\n        this.mark = 0\n        this.newList = this.list\n        this.$nextTick(function () {\n          setTimeout(() => {\n            this.waterFall()\n          }, 120)\n        })        \n      }      \n    },\n\t\twatch: {\n\t\t\t// 数据\n\t\t\tlist: function (newVal, oldVal) {\n        // flow\n        if (!this.change) {\n          console.log('更多穿搭waterfall')\n          this.mark = oldVal.length\n          if (newVal != oldVal) {\n            this.newList = this.list\n            this.$nextTick(function () {\n              setTimeout(() => {\n                this.waterFall()\n              }, 120)\n            })\n          }          \n        }\n\t\t\t}\n\t\t},\n\t\tmethods: {\n      toPath (row) {\n        this.$global.navigateTo(`/pages/img/img?uri=${row.uri}&api=${row.api}`)\n      },\n      handleLike (idx) {\n        if (!this.list[idx].clickLike) {\n          this.newList[idx].clickLike = true\n          this.newList[idx].likes += 1\n        } else {\n          this.newList[idx].clickLike = false\n          this.newList[idx].likes -= 1\n        }\n        this.$forceUpdate()\n      },      \n\t\t\t// 瀑布流定位\n\t\t\twaterFall() {\n        const query = uni.createSelectorQuery().in(this)\n        query.selectAll('.flow-box .item').boundingClientRect(res => {\n          let len = this.newList.length // 当前数组个数\n          let height = 0\n          for (let i = this.mark; i < len; i++) {\n            height = res[i].height\n\t\t\t\t\t\tif (i < 2) {\n\t\t\t\t\t\t\tthis.$set(this.newList[i], 'top', 0);\n\t\t\t\t\t\t\tthis.$set(this.newList[i], 'left', i);\n\t\t\t\t\t\t\tthis.boxHeight.push(height);\n\t\t\t\t\t\t\tthis.top.push(0);\n\t\t\t\t\t\t\tthis.left.push(i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet minHeight = this.boxHeight[0];\n\t\t\t\t\t\t\tlet index = 0;\n\t\t\t\t\t\t\tif (minHeight > this.boxHeight[1]) {\n\t\t\t\t\t\t\t\tminHeight = this.boxHeight[1];\n\t\t\t\t\t\t\t\tindex = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.boxHeight[index] = minHeight + height + 8;\n\t\t\t\t\t\t\tthis.top.push(minHeight + 8);\n\t\t\t\t\t\t\tthis.left.push(index);\n\t\t\t\t\t\t\tthis.$set(this.newList[i], 'top', minHeight + 8);\n\t\t\t\t\t\t\tthis.$set(this.newList[i], 'left', index);\n\t\t\t\t\t\t\tthis.loadingTop = this.boxHeight[index];\n\t\t\t\t\t\t}            \n          }\n        }).exec()\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=21285232&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=21285232&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}