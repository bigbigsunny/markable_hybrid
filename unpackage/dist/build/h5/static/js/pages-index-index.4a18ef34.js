(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"18bb":function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"waterfall-box"},[a("v-uni-view",{staticClass:"fall left"},t._l(t.leftList,function(i,e){return a("v-uni-view",{key:e,staticClass:"col-box",on:{click:function(a){a=t.$handleEvent(a),t.toPath(i)}}},[a("v-uni-view",{staticClass:"pic-box"},[a("v-uni-image",{staticClass:"pic",style:{height:.468*i.imgHeight+"px",background:i.color},attrs:{src:i.thumbnail,"lazy-load":"true"}})],1),a("v-uni-view",{staticClass:"wall-desc-box"},[a("v-uni-view",{staticClass:"left-content"},[a("v-uni-view",{staticClass:"title omit2"},[a("v-uni-text",{staticClass:"tag"},[t._v(t._s(i.tag))]),t._v(t._s(i.desc))],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"point"}),a("v-uni-view",{staticClass:"source-item"},[a("v-uni-text",{staticClass:"source-text"},[t._v("麦时尚")]),a("v-uni-text",{staticClass:"source-text"},[t._v(t._s(i.date))]),a("v-uni-text",{staticClass:"source-text"},[t._v("|")]),a("v-uni-text",{staticClass:"source-text"},[t._v("评论（"+t._s(i.commentCount||0)+"）")])],1)],1)],1),a("v-uni-view",{staticClass:"right-like",on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.handleLike(e,"leftList")}}},[a("v-uni-image",{staticClass:"like-icon",attrs:{src:i.clickLike?t.like2:t.like1}}),a("v-uni-text",{staticClass:"liked"},[t._v(t._s(i.likes))])],1)],1)],1)}),1),a("v-uni-view",{staticClass:"fall right"},t._l(t.rightList,function(i,e){return a("v-uni-view",{key:e,staticClass:"col-box",on:{click:function(a){a=t.$handleEvent(a),t.toPath(i)}}},[a("v-uni-view",{staticClass:"pic-box"},[a("v-uni-image",{staticClass:"pic",style:{height:.468*i.imgHeight+"px",background:i.color},attrs:{src:i.thumbnail,"lazy-load":"true"}})],1),a("v-uni-view",{staticClass:"wall-desc-box"},[a("v-uni-view",{staticClass:"left-content"},[a("v-uni-view",{staticClass:"title omit2"},[a("v-uni-text",{staticClass:"tag"},[t._v(t._s(i.tag))]),t._v(t._s(i.desc))],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"point"}),a("v-uni-view",{staticClass:"source-item"},[a("v-uni-text",{staticClass:"source-text"},[t._v("麦时尚")]),a("v-uni-text",{staticClass:"source-text"},[t._v(t._s(i.date))]),a("v-uni-text",{staticClass:"source-text"},[t._v("|")]),a("v-uni-text",{staticClass:"source-text"},[t._v("评论（"+t._s(i.commentCount||0)+"）")])],1)],1)],1),a("v-uni-view",{staticClass:"right-like",on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.handleLike(e,"rightList")}}},[a("v-uni-image",{staticClass:"like-icon",attrs:{src:i.clickLike?t.like2:t.like1}}),a("v-uni-text",{staticClass:"liked"},[t._v(t._s(i.likes))])],1)],1)],1)}),1)],1)],1)},s=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return s})},"20a2":function(t,i,a){var e=a("a08c");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("250d7c4a",e,!0,{sourceMap:!1,shadowMode:!1})},"348d":function(t,i,a){"use strict";var e=a("bd6f"),s=a.n(e);s.a},"390f":function(t,i,a){"use strict";a.r(i);var e=a("4291"),s=a("9d57");for(var n in s)"default"!==n&&function(t){a.d(i,t,function(){return s[t]})}(n);a("348d");var o=a("2877"),l=Object(o["a"])(s["default"],e["a"],e["b"],!1,null,"4955b4f4",null);i["default"]=l.exports},4279:function(t,i,a){"use strict";var e=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e(a("75fc"));a("7f7f");var n=e(a("9fc9")),o={components:{waterFall:n.default},data:function(){return{showSkeleton:!0,skeletonList:[1,2,3,4,5,6,7,8],list:[],skip:this.$filter.getRandom(500),limit:10,loading:!0,prevList:[],leftList:[],rightList:[],leftHeight:0,rightHeight:0}},onLoad:function(){this.getHybridList()},methods:{getHybridList:function(){var t=this;this.$api.getList({limit:this.limit,skip:this.skip}).then(function(i){console.log(i.data.data.result,32132);var a=i.data.data.result;"string"===typeof i.data&&(console.log("unicode 处理"),a=t.$filter.decodeUnicode(i.data).data);var e=[];a.map(function(i,a){i.images[0].width&&i.images[0].height&&e.push({thumbnail:t.$filter.getThumbnail(i.images[0].uri),uri:i.images[0].uri,desc:i.data.description?i.data.description:t.$filter.getShareMsg(),color:t.$filter.randomBgColor(a),date:i.data.date?t.$filter.getDate(i.data.date):"",likes:i.data.likes?t.$filter.getNumber(i.data.likes):t.$filter.getRandom(),tag:i.data.tags&&i.data.tags.length>0?i.data.tags[0].tag:"",imgHeight:t.$filter.getRatioHeight(i.images[0].width,i.images[0].height),commentCount:t.$filter.getRandom(999),api:i.catalog.name})});var n=[].concat((0,s.default)(t.prevList),e),o=t.leftHeight,l=t.rightHeight,c=t.leftList,r=t.rightList;n.map(function(t,i){var a=.468*t.imgHeight;t.thumbnailHeight=a,o<=l?(c.push(t),o+=a):(r.push(t),l+=a)}),console.log(o,l),t.leftList=c,t.rightList=r,t.leftHeight=o,t.rightHeight=l})},loadMore:function(t){this.skip+=10,this.loading=!0,this.prevList=this.list,this.getHybridList()}}};i.default=o},4291:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"page"},[a("v-uni-scroll-view",{staticStyle:{height:"100vh"},attrs:{"scroll-y":!0,"enable-back-to-top":!0,"lower-threshold":"100"},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.loadMore(i)}}},[a("water-fall",{attrs:{leftList:t.leftList,rightList:t.rightList}})],1)],1)},s=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return s})},"5fbb":function(t,i,a){"use strict";a.r(i);var e=a("d915"),s=a.n(e);for(var n in e)"default"!==n&&function(t){a.d(i,t,function(){return e[t]})}(n);i["default"]=s.a},"6ca3":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,".skeleton-list[data-v-4955b4f4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?20?%;margin-top:%?-80?%}.fall[data-v-4955b4f4]{width:%?344?%;height:auto;margin-top:%?20?%}.mock-list[data-v-4955b4f4]{width:%?344?%;height:%?344?%}.mock-content[data-v-4955b4f4]{width:%?344?%;height:%?40?%;margin-top:%?20?%}.mock-desc[data-v-4955b4f4]{float:left;width:%?280?%;height:%?40?%}.mock-radius[data-v-4955b4f4]{float:left;width:%?40?%;height:%?40?%;margin-left:%?20?%}",""])},"75fc":function(t,i,a){"use strict";a.r(i);var e=a("a745"),s=a.n(e);function n(t){if(s()(t)){for(var i=0,a=new Array(t.length);i<t.length;i++)a[i]=t[i];return a}}var o=a("774e"),l=a.n(o),c=a("c8bb"),r=a.n(c);function u(t){if(r()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return l()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return n(t)||u(t)||d()}a.d(i,"default",function(){return f})},7733:function(t,i,a){"use strict";var e=a("20a2"),s=a.n(e);s.a},"9d57":function(t,i,a){"use strict";a.r(i);var e=a("4279"),s=a.n(e);for(var n in e)"default"!==n&&function(t){a.d(i,t,function(){return e[t]})}(n);i["default"]=s.a},"9fc9":function(t,i,a){"use strict";a.r(i);var e=a("18bb"),s=a("5fbb");for(var n in s)"default"!==n&&function(t){a.d(i,t,function(){return s[t]})}(n);a("7733");var o=a("2877"),l=Object(o["a"])(s["default"],e["a"],e["b"],!1,null,"0e638a6c",null);i["default"]=l.exports},a08c:function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,".waterfall-box[data-v-0e638a6c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:%?16?%}.fall[data-v-0e638a6c]{width:%?351?%;height:auto}.col-box[data-v-0e638a6c]{width:100%;height:auto;margin-bottom:%?16?%;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.06);box-shadow:0 2px 6px 0 rgba(0,0,0,.06);position:relative}.left[data-v-0e638a6c]{margin-right:%?16?%}.pic[data-v-0e638a6c]{width:100%;display:block;border-top-left-radius:%?8?%;border-top-right-radius:%?8?%}.wall-desc-box[data-v-0e638a6c]{width:100%;height:%?128?%;background:#fff}.left-content[data-v-0e638a6c]{width:%?248?%;height:auto;padding:%?12?% 0 0 %?16?%;float:left}.title[data-v-0e638a6c]{width:%?248?%;height:%?60?%;font-size:%?22?%;margin-top:%?8?%;font-family:PingFangSC-Semibold,sans-serif}.tag[data-v-0e638a6c]{color:#a255fb}.info[data-v-0e638a6c]{width:100%;height:%?30?%;\n  /* background: #00f; */margin-top:%?8?%}.point[data-v-0e638a6c]{width:%?16?%;height:%?16?%;border-radius:50%;background:#f8ba03;float:left;margin:%?12?% %?4?% 0 0}.source-item[data-v-0e638a6c]{width:auto;height:%?30?%;line-height:%?30?%}.source-text[data-v-0e638a6c]{margin-right:%?6?%;font-size:%?16?%}.right-like[data-v-0e638a6c]{float:right;width:%?60?%;height:auto;margin:%?28?% %?15?% 0 0\n  /* background: #00f; */}.like-icon[data-v-0e638a6c]{width:%?40?%;height:%?32?%;display:block;margin:0 auto}.liked[data-v-0e638a6c]{font-size:%?18?%;color:#606060;text-align:center;display:block;margin-top:%?10?%}.shop-box[data-v-0e638a6c]{position:absolute;top:0;right:0;width:%?64?%;height:%?52?%;background:#fff;\n  /* box-shadow:0px 2px -6px 0px rgba(0,0,0,0.6) */-webkit-box-shadow:-2px 2px 6px rgba(0,0,0,.6);box-shadow:-2px 2px 6px rgba(0,0,0,.6)}.shop-img[data-v-0e638a6c]{width:%?30?%;height:%?30?%;display:block;margin:%?11?% %?6?%;float:left}.shop-num[data-v-0e638a6c]{line-height:%?60?%;font-size:%?16?%;color:#a255fb;float:left}",""])},bd6f:function(t,i,a){var e=a("6ca3");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("37ab2f87",e,!0,{sourceMap:!1,shadowMode:!1})},d915:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={props:["leftList","rightList"],data:function(){return{newList:[],index:0,mark:0,boxHeight:[],top:[],left:[],loadingTop:0,like1:"/static/images/like1.png",like2:"/static/images/like2.png"}},mounted:function(){},watch:{},methods:{toPath:function(t){console.log(t.uri),this.$global.navigateTo("/pages/img/img?uri=".concat(t.uri,"&api=").concat(t.api))},handleLike:function(t,i){this[i][t].clickLike?(this[i][t].clickLike=!1,this[i][t].likes-=1):(this[i][t].clickLike=!0,this[i][t].likes+=1),this.$forceUpdate()}}};i.default=e}}]);