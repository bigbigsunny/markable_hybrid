(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-qad"],{"0781":function(t,e,i){var a=i("97f0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("92a0d38a",a,!0,{sourceMap:!1,shadowMode:!1})},"0a3e":function(t,e,i){"use strict";i.r(e);var a=i("529c"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"1dc8":function(t,e,i){"use strict";i.r(e);var a=i("622e"),n=i("2146");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("42a0");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"64d2bcc4",null);e["default"]=s.exports},2146:function(t,e,i){"use strict";i.r(e);var a=i("be60"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"42a0":function(t,e,i){"use strict";var a=i("4359"),n=i.n(a);n.a},4359:function(t,e,i){var a=i("d961");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("129a4f5e",a,!0,{sourceMap:!1,shadowMode:!1})},4786:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"matches-box"},t._l(t.list,function(e,a){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:-1==t.idx||e.index==t.idx,expression:"idx == -1 || item.index == idx"}],key:a},[i("v-uni-text",{staticClass:"h3"},[t._v(t._s(e.tag))]),e.count&&e.count>0?i("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-x":""}},t._l(e.matches,function(e,n){return e.error?t._e():i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"child.show"}],key:n,staticClass:"card-box",on:{click:function(i){i=t.$handleEvent(i),t.toPath(e.shoplink,e.source.id)}}},[i("v-uni-view",{staticClass:"img-card img-bg"},[0==e.source.id?i("v-uni-image",{staticClass:"sale-icon",attrs:{src:"/static/images/temai.png",mode:"widthFix"}}):t._e(),i("v-uni-image",{staticClass:"img",attrs:{src:e.thumbnail,mode:6==e.source.id||5==e.source.id?"aspectFit":"aspectFill","lazy-load":!0},on:{error:function(e){e=t.$handleEvent(e),t.imgErr(a,n)}}})],1),i("v-uni-view",{staticClass:"desc-box"},[i("v-uni-view",{staticClass:"title omit2"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"vendor omit1"},[t._v(t._s(e.brand))]),i("v-uni-view",{staticClass:"bottom"},[i("v-uni-view",{staticClass:"price"},[i("v-uni-text",{staticClass:"currency"},[t._v(t._s(e.currency))]),t._v(t._s(4==e.source.id?e.price/100:e.price))],1),i("v-uni-view",{staticClass:"source-box"},[i("v-uni-view",{staticClass:"source-point",style:{background:e.source.bg}}),i("v-uni-view",{staticClass:"source-name",style:{color:e.source.bg}},[t._v(t._s(e.source.name))])],1)],1)],1)],1)}),1):i("Default")],1)}),1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"47d5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-video",{staticClass:"video",attrs:{src:t.videdList[1].src,id:"myVideo"},on:{pause:function(e){e=t.$handleEvent(e),t.handlePause(e)},timeupdate:function(e){e=t.$handleEvent(e),t.handleTimeupdate(e)}}}),i("v-uni-view",{staticClass:"content"},[t.matches.length>0?i("v-uni-view",{staticClass:"p24"},[i("Matches",{attrs:{list:t.matches}})],1):t._e()],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"4b36":function(t,e,i){"use strict";var a=i("0781"),n=i.n(a);n.a},"529c":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("1dc8")),o={name:"matches",props:["list","index","from"],components:{Default:n.default},data:function(){return{idx:-1}},watch:{index:function(t){console.log(t),this.idx=t}},onLoad:function(t){},methods:{imgErr:function(t,e){this.$set(this.list[t].matches[e],"error",!0)},toPath:function(t,e){window.location.href=this.$filter.transUrl(decodeURIComponent(t),e,this.from)}}};e.default=o},"622e":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"default-box"},[i("v-uni-image",{staticClass:"default-img",attrs:{src:"/static/images/notData.png"}}),i("v-uni-view",{staticClass:"default-tip"},[t._v("呜呜呜~小麦木有找到商品...")])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"69b9":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6b54"),i("87b3"),i("7f7f");var n=a(i("8ee6")),o={components:{Matches:n.default},data:function(){return{videdList:[{idx:0,id:"10029026500",src:"https://markable-china-miniapp.s3.cn-north-1.amazonaws.com.cn/iqiyi/AQY-video-qad/10029026500.mp4"},{idx:1,id:"3250160600",src:"https://markable-china-miniapp.s3.cn-north-1.amazonaws.com.cn/iqiyi/AQY-video-qad/3250160600.mp4"}],currentIdx:0,currentTime:0,param:{time:"00000",video_id:"",options:{limit:5,detection_relevance:60,product_relevance:60,jd_only:!0}},matches:[]}},methods:{handlePause:function(t){console.log(this.format(this.currentTime)),this.param.time=this.format(this.currentTime),this.param.video_id=this.videdList[1].id,uni.showLoading({title:"识别中..."}),this.matches=[],this.getVideoResult()},getVideoResult:function(){var t=this;this.$api.getClientSearch({data:this.param}).then(function(e){var i=e.data.data,a=i.code,n=i.result;i.message;if(setTimeout(function(){uni.hideLoading()},1e3),2e4==a&&n.length>0){var o=[];n.map(function(e,i){var a=[];e.matches&&e.matches.map(function(e){e.images&&e.images.length>0&&e.images[0]&&e.images[0].uri&&t.$filter.getCurrency(e.data.currency)&&e.data.url&&e.data.price&&a.push({show:!0,ads:e.ads||!1,isFilter:!1,source:t.$filter.getShopSource(e.catalog.name),wechatlink:e.data.wechat_app_url?e.data.wechat_app_url:"",thumbnail:t.$filter.getThumbnail(e.images[0].uri),name:e.data.name,price:e.data.sale_price?e.data.sale_price:e.data.price,brand:e.data.brand,score:e.score?t.$filter.getToFixed(10*e.score):"6.0",shoplink:e.data.url?encodeURIComponent(e.data.url):"",currency:t.$filter.getCurrency(e.data.currency)})}),a.length>0&&o.push({index:i,tag:e.category.name?t.$filter.getChCatalog(e.category.name):"",matches:a,count:a.length})}),console.log(o,"商品及标签集合"),t.matches=o}else console.log("暂无识别结果"),t.$global.showToast("暂无识别结果")})},handleTimeupdate:function(t){var e=t.mp.detail.currentTime;this.currentTime=Math.floor(e)},format:function(t){var e=t.toString();return e?1==e.length?"0000"+e:2==e.length?"000"+e:3==e.length?"00"+e:4==e.length?"0"+e:e:"00000"}}};e.default=o},"6f04":function(t,e,i){"use strict";i.r(e);var a=i("47d5"),n=i("c978");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("4b36");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"d3d69a18",null);e["default"]=s.exports},"8ee6":function(t,e,i){"use strict";i.r(e);var a=i("4786"),n=i("0a3e");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("cad0");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"3fe37486",null);e["default"]=s.exports},"97f0":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".video[data-v-d3d69a18]{width:100vw\n    /* height:100vh; */}.content[data-v-d3d69a18]{width:100%;height:auto;background:#fff;padding-bottom:%?100?%;\n/*    position: absolute;\n    left:0;\n    top:0; */\n    /* z-index: 2; */-webkit-box-shadow:0 -4px 6px 0 rgba(0,0,0,.11);box-shadow:0 -4px 6px 0 rgba(0,0,0,.11);-webkit-overflow-scrolling:touch}",""])},be60:function(t,e,i){},c20d:function(t,e,i){var a=i("d7aa");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("7e58a386",a,!0,{sourceMap:!1,shadowMode:!1})},c978:function(t,e,i){"use strict";i.r(e);var a=i("69b9"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},cad0:function(t,e,i){"use strict";var a=i("c20d"),n=i.n(a);n.a},d7aa:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".h3[data-v-3fe37486]{width:100%;height:%?40?%;line-height:%?40?%;font-size:%?26?%;color:#525252;padding:%?30?% 0 %?20?% 0;font-weight:700;display:block}.scroll-box[data-v-3fe37486]{width:100%;height:%?508?%;overflow-x:scroll;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box}.card-box[data-v-3fe37486]{width:%?284?%;height:%?500?%;background:#fff;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.06);box-shadow:0 2px 6px 0 rgba(0,0,0,.06);border-bottom:%?8?% solid #727272;border-radius:%?10?%;margin-right:%?12?%;display:inline-block;white-space:normal;overflow:hidden;vertical-align:middle}.img-card[data-v-3fe37486]{width:%?284?%;height:%?346?%;position:relative;border-bottom:%?1?% solid #dfdfdf}.img[data-v-3fe37486]{width:100%;height:100%;border-top-right-radius:%?10?%;border-top-left-radius:%?10?%}.desc-box[data-v-3fe37486]{width:%?250?%;height:%?130?%;padding:%?14?% %?20?% %?6?%}.title[data-v-3fe37486]{width:100%;height:%?60?%;font-size:%?22?%;color:#5e5e5e;line-height:%?32?%;font-family:PingFangSC-Semibold,sans-serif;margin-bottom:%?5?%}.vendor[data-v-3fe37486]{width:100%;height:%?28?%;font-size:%?20?%;line-height:%?28?%;color:#777;margin-bottom:%?3?%}.bottom[data-v-3fe37486]{width:100%;height:%?34?%;line-height:%?34?%}.price[data-v-3fe37486]{width:auto;height:%?34?%;line-height:%?34?%;color:#ab3434;font-size:%?24?%;float:left;font-family:PingFangSC-Medium,sans-serif}.currency[data-v-3fe37486]{font-size:%?20?%}.source-box[data-v-3fe37486]{float:right;width:auto;height:%?27?%;line-height:%?27?%;padding:%?0?% %?8?%;margin-top:%?4?%;font-family:PingFangSC-Medium,sans-serif}.source-name[data-v-3fe37486]{font-size:%?18?%;float:right;margin-right:%?6?%}.source-point[data-v-3fe37486]{border-radius:50%;width:%?16?%;height:%?16?%;float:right;\nmargin:%?6?% %?-5?% 0 0;\nmargin:%?6?% %?-5?% 0 0}.sale-icon[data-v-3fe37486]{position:absolute;right:0;top:0;width:%?60?%;height:auto;display:block;z-index:99}",""])},d961:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".default-box[data-v-64d2bcc4]{width:100%;height:auto}.default-img[data-v-64d2bcc4]{width:%?80?%;height:%?80?%;margin:%?30?% auto;display:block}.default-tip[data-v-64d2bcc4]{width:100%;height:%?50?%;line-height:%?50?%;color:#999;font-size:%?24?%;text-align:center}",""])}}]);